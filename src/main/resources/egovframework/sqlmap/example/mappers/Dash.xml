<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 마이바티스 버전 -->

<mapper namespace="egovframework.example.sample.service.impl.DashMapper">

	<select id="numHospital" resultType="dashHKVO">
		SELECT  hk.kind_cd ,COUNT(hk.kind_cd) AS kind_tot,  hk.kind_nm
		  FROM  tb_hospital hp 
		  JOIN  tb_hoskind hk ON hp.kind_cd = hk.kind_cd
		  <where>
		  		<!-- sido_cd == 0 : 전국 (default 값) -->
		  		<if test="(sido_cd > 0)">
		  			and hp.sido_cd = #{sido_cd}
		  		</if>	
		  </where>
	  GROUP BY  hk.kind_cd 
	  ORDER BY  hk.kind_cd
	</select>
	
</mapper>